/* ========== الأنماط الطارئة ========== */
body {
    background-color: #f8f9fa !important;
    color: #212529 !important;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
}

/* ========== المتغيرات ========== */
:root {
    --primary-color: #4361ee;
    --success-color: #4cc9f0;
    --danger-color: #f72585;
    --warning-color: #f8961e;
    --light-color: #f8f9fa;
    --dark-color: #212529;
    --gray-color: #6c757d;
    --border-radius: 12px;
    --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --transition: all 0.3s ease;

    --theme-bg: #ffffff;
    --theme-sidebar: linear-gradient(180deg, #5a6268, #495057);
    --theme-text: #212529;
    --theme-card: white;
    --theme-border: #dee2e6;
    --theme-primary: #6c757d;
    --theme-hover: #5a6268;
}

/* ثيمات (أساسيات) */
.theme-beige { --theme-bg:#fefaf6; --theme-sidebar: linear-gradient(180deg,#d7ccc8,#bcaaa4); --theme-text:#5d4037; --theme-card:white; --theme-border:#d7ccc8; --theme-primary:#8d6e63; --theme-hover:#6d4c41; }
.theme-gray { --theme-bg:#ffffff; --theme-sidebar: linear-gradient(180deg,#5a6268,#495057); --theme-text:#212529; --theme-card:white; --theme-border:#dee2e6; --theme-primary:#6c757d; --theme-hover:#5a6268; }
.theme-black { --theme-bg:#121212; --theme-sidebar: linear-gradient(180deg,#1a1a1a,#2d2d2d); --theme-text:#ffffff; --theme-card:#1e1e1e; --theme-border:#444444; --theme-primary:#5a6268; --theme-hover:#6c757d; }
.theme-blue { --theme-bg:#f0f7ff; --theme-sidebar: linear-gradient(180deg,#4361ee,#3a56d4); --theme-text:#212529; --theme-card:#ffffff; --theme-border:#c2d6ff; --theme-primary:#4361ee; --theme-hover:#3a56d4; }

/* ensure body colors */
body { font-family: 'Cairo', sans-serif; background-color: var(--theme-bg); color: var(--theme-text); direction: rtl; transition: var(--transition); }

/* ========== الهيكل ========== */
.app-container { display:flex; min-height:100vh; }
.sidebar { width:280px; background:var(--theme-sidebar); color:white; padding:20px 0; position:fixed; height:100vh; z-index:100; display:flex; flex-direction:column; }
.logo { padding:0 20px 20px; border-bottom:1px solid rgba(255,255,255,0.1); margin-bottom:20px; }
.logo h1 { display:flex; align-items:center; gap:12px; font-size:1.5rem; color:white; }
.nav-menu { padding:0 15px; flex:1; }
.nav-item { display:flex; align-items:center; gap:15px; padding:15px; color:rgba(255,255,255,0.9); text-decoration:none; border-radius:10px; margin-bottom:8px; cursor:pointer; background:rgba(255,255,255,0.06); }
.nav-item:hover { background:rgba(255,255,255,0.12); transform:translateX(-5px); }
.main-content { flex:1; margin-right:280px; padding:25px; transition:var(--transition); }

/* sidebar footer buttons (search + settings) */
.icon-square-btn, .settings-btn { width:48px; height:48px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center; border:none; cursor:pointer; background:var(--theme-card); color:var(--theme-text); box-shadow:var(--box-shadow); }
.icon-square-btn:hover, .settings-btn:hover { transform:translateY(-2px); }

/* ========== المحتوى ========== */
.header { display:flex; justify-content:space-between; align-items:center; margin-bottom:30px; padding:25px; background:var(--theme-card); border-radius:var(--border-radius); box-shadow:var(--box-shadow); border:1px solid var(--theme-border); }
.header-left h1 { color:var(--theme-primary); margin-bottom:8px; font-size:1.8rem; }
.content-area { background:var(--theme-card); border-radius:var(--border-radius); padding:30px; box-shadow:var(--box-shadow); min-height:500px; border:1px solid var(--theme-border); transition:var(--transition); }

/* Filters */
.task-filters { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:18px; padding:16px; background:var(--theme-card); border-radius:var(--border-radius); border:1px solid var(--theme-border); }
.filter-btn { padding:8px 20px; border:2px solid var(--theme-border); background:var(--theme-card); border-radius:20px; cursor:pointer; color:var(--theme-text); font-weight:500; }
.filter-btn.active { background:var(--theme-primary); color:white; border-color:var(--theme-primary); }

/* Tasks list */
.tasks-list { display:flex; flex-direction:column; gap:15px; }
.task-card { display:flex; align-items:center; gap:20px; padding:15px 20px; background:var(--theme-card); border-radius:12px; border:1px solid var(--theme-border); position:relative; box-shadow:0 2px 8px rgba(0,0,0,0.06); transition:var(--transition); }
.task-card.completed { opacity:0.7; }
.task-card.overdue { border-color:var(--danger-color); background:rgba(247,37,133,0.03); }
.task-checkbox { width:22px; height:22px; cursor:pointer; accent-color:var(--theme-primary); }
.task-content { flex:1; }
.task-title { font-weight:600; margin-bottom:8px; }
.task-description { color:var(--gray-color); font-size:0.95rem; margin-bottom:12px; }
.task-meta { display:flex; gap:20px; font-size:0.9rem; color:var(--gray-color); }
.task-actions { display:flex; gap:10px; opacity:0.7; position:absolute; top:10px; left:10px; z-index:10; }

/* Overdue badge */
.overdue-badge { background: linear-gradient(135deg,#f72585,#b5179e); color:white; padding:4px 10px; border-radius:15px; font-size:0.75rem; font-weight:600; box-shadow:0 2px 8px rgba(247,37,133,0.4); }

/* ========== Categories ========== */
.categories-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); gap:20px; margin-top:25px; align-items:start; /* do not add internal scroll; rely on page scroll */ }
.category-card { background:var(--theme-card); border-radius:12px; padding:25px; border:1px solid var(--theme-border); position:relative; overflow:hidden; }
.category-color { width:35px; height:35px; border-radius:50%; border:3px solid white; }
.category-header { display:flex; align-items:center; gap:15px; margin-bottom:20px; }
.category-name { font-weight:600; flex:1; font-size:1.2rem; color:var(--theme-text); }
.category-progress-container { width:100%; height:8px; background:var(--theme-border); border-radius:4px; margin:15px 0; overflow:hidden; }
.category-progress-bar { height:100%; border-radius:4px; transition:width 0.5s ease; background:var(--theme-primary); }

/* category tasks container: limited visually but NOT a primary scroller */
.category-tasks-container { padding:15px; border:1px solid var(--theme-border); border-radius:8px; background:var(--theme-card); }

/* ========== Calendar ========== */
/* Remove independent scrollers; rely on page scrollbar */
.daily-calendar, .weekly-calendar, .monthly-calendar { display:grid; gap:15px; margin-top:20px; }
.time-slot { background:var(--theme-card); border-radius:12px; padding:15px; border:1px solid var(--theme-border); min-height:80px; }
.calendar-task-card { background:var(--theme-card); border-radius:8px; padding:10px; border-left:4px solid; border-right:4px solid; transition:var(--transition); cursor:pointer; border:1px solid var(--theme-border); }

/* weekly like monthly grid */
.weekly-like-calendar, .monthly-calendar { display:grid; grid-template-columns:repeat(7,1fr); gap:10px; }

/* month styles */
.month-day { background:var(--theme-card); border-radius:8px; padding:10px; min-height:120px; border:1px solid var(--theme-border); position:relative; }
.day-number { font-weight:600; margin-bottom:10px; color:var(--theme-text); }

/* ========== Notes ========== */
.notes-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); gap:25px; margin-top:25px; }
.note-card { background:var(--theme-card); border-radius:12px; padding:25px; border:1px solid var(--theme-border); position:relative; min-height:200px; display:flex; flex-direction:column; }
.note-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; padding-bottom:10px; border-bottom:2px solid var(--theme-primary); }
.note-title { font-weight:600; font-size:1.2rem; color:var(--theme-primary); border:none; background:transparent; width:70%; padding:5px; border-radius:4px; }
.note-content { flex:1; margin-bottom:15px; padding:10px; border-radius:8px; background:var(--theme-bg); overflow-y:auto; min-height:100px; border:1px solid var(--theme-border); line-height:1.6; }
.note-checkbox-item { display:flex; align-items:center; gap:10px; margin-bottom:8px; padding:8px; border-radius:6px; }
.note-checkbox { width:18px; height:18px; cursor:pointer; accent-color:var(--theme-primary); }
.small-checkbox { width:20px; height:20px; accent-color:#3a86ff; }

/* make small note checkboxes visually similar to toolbar buttons */
#add-checkbox-btn { background: linear-gradient(135deg,#3a86ff,#2a6fb2); color:white; padding:8px 12px; border-radius:8px; }

/* ========== Notes editor ========== */
.notes-editor-container { position:fixed; top:0; left:0; width:100%; height:100%; background:var(--theme-card); z-index:10000; display:none; flex-direction:column; }
.notes-editor-container.active { display:flex; }
.notes-toolbar { background:var(--theme-card); padding:15px 25px; border-bottom:1px solid var(--theme-border); display:flex; justify-content:space-between; align-items:center; box-shadow:0 2px 10px rgba(0,0,0,0.1); }
.font-select, .font-size-input, .font-weight-select, .font-color-input { padding:6px 10px; border:1px solid var(--theme-border); border-radius:6px; background:var(--theme-card); color:var(--theme-text); }

/* make checkboxes small & blue when added */
.note-checkbox.small-checkbox { width:18px; height:18px; accent-color:#1e90ff; }

/* notes content */
.notes-content { flex:1; padding:30px; font-size:16px; line-height:1.8; outline:none; background:var(--theme-card); color:var(--theme-text); overflow:auto; min-height:300px; width:100%; }

/* ========== Modal ========== */
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; align-items:center; justify-content:center; }
.modal.active { display:flex; }
.modal-content { background:var(--theme-card); border-radius:12px; width:90%; max-width:600px; max-height:90vh; overflow:auto; box-shadow:0 10px 30px rgba(0,0,0,0.2); border:1px solid var(--theme-border); }
.modal-header { display:flex; justify-content:space-between; align-items:center; padding:20px; border-bottom:1px solid var(--theme-border); }
.modal-body { padding:20px; }
.modal-footer { padding:20px; border-top:1px solid var(--theme-border); display:flex; justify-content:flex-end; gap:10px; }

/* ========== Floating undo/redo (horizontal) ========== */
#floating-undo-redo { position:fixed; left:12px; bottom:12px; display:flex; flex-direction:row; gap:8px; z-index:20000; }
#floating-undo-redo button { width:44px; height:44px; border-radius:50%; display:inline-flex; align-items:center; justify-content:center; background:var(--theme-card); border:1px solid var(--theme-border); cursor:pointer; }

/* ========== Responsive ========== */
@media (max-width: 1200px){
    .sidebar { width:70px; }
    .main-content { margin-right:70px; }
    .monthly-calendar { grid-template-columns: repeat(4, 1fr); }
}
@media (max-width:768px){
    .app-container { flex-direction:column; }
    .sidebar { position:static; width:100%; height:auto; padding:10px; }
    .main-content { margin-right:0; padding:15px; }
    .categories-grid, .notes-grid { grid-template-columns:1fr; }
    .weekly-like-calendar { grid-template-columns: repeat(2,1fr); }
}
